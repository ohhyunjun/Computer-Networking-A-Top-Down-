## 전체적인 계층의 범위와 역할
![Image](https://github.com/user-attachments/assets/5d51ff50-c339-4930-b21d-c3604f27b312)

## 1. 전송계층 서비스와 프로토콜
- 서로 다른 호스트 간의 프로세스 간에 논리적 통신을 한다.
  - **프로토콜**: 엔드 시스템에서 실행된다. (인터넷: TCP, UDP)
    - **TCP**: 신뢰성, 연결지향적, 혼잡제어, 흐름제어
    - **UDP**: 비신뢰성
    - **공통점**: 지연보장과 대역폭 보장 안 함.
  - **송신측**: 메시지(애플리케이션 계층)를 세그먼트로 나누고 네트워크 계층으로 보냄.
  - **수신측**: 세그먼트를 메시지로 재구성하고 애플리케이션 계층으로 보냄.
  - **전송 계층**: <우편함에서 해당 집 호수 사이>
  - **네트워크 계층**: <우편함과 우편함 사이>
    - **시나리오**:
      - 프로세스는 아이들
      - 애플리케이션 메시지는 편지
      - 호스트는 집
      - 전송계층은 안과 빌
      - 네트워크 계층은 우편 서비스

## 2. Multiplexing and Demultiplexing
- **멀티플렉싱**: 여러 데이터(500명의 사람)를 하나의 통신 링크(길)를 통해 여러 방법(TDMA, FDMA)으로 전송할 수 있게 하는 '프로세스'.
- **디멀티플렉싱**: 수신받은 데이터 스트림(500명의 사람)을 원래 대상 응용 프로그램(각각의 최종 호텔 방)으로 라우팅(호텔방을 배정)하는 과정
  - **작동 방식**:
    - 호스트는 송신측 IP와 수신측 IP 주소가 담긴 데이터그램을 받는다.
    - 데이터그램 속 1개의 세그먼트 헤더를 가지고 있으며, 그러한 세그먼트는 목적지 포트번호를 가지고 있다.
    - 호스트는 IP 주소와 포트번호를 통해 세그먼트를 적절한 소켓으로 보낸다.
- **UDP 소켓**: 비연결성 디멀티플렉싱으로 IP와 포트넘버를 합친 소켓이다.
  - **two-tuple**: 목적지 IP 주소, 목적지 포트 번호 = 해당 two-tuple로 UDP 소켓을 식별한다.
  - 호스트가 UDP 세그먼트를 수신하면 목적지 포트를 확인하고 해당 포트로 세그먼트를 소켓으로 전송한다.
- **TCP 소켓**: 연결지향 디멀티플렉싱으로 IP와 포트넘버를 합친 소켓이다.
  - **4-tuple**: 송신측 IP 주소와 포트 번호, 수신측 IP 주소와 포트번호 = 해당 4-tuple로 TCP 소켓을 식별한다.
  - 수신측 호스트는 소켓의 수신측 정보를 통해 적절히 해당 포트로 보내며, 송신측 정보를 통해 송신측에 잘 도착했음을 다시 보낸다.
  - TCP는 만약 n개의 정보가 들어오면 총 n+1(웰컴소켓)개의 소켓이 필요하다.

## 3. Connectionless Transport: UDP
- **UDP**:
  - 송신과 수신측 사이에 핸드쉐이킹이 없음(연결 설정이 없기에 지연을 줄일 수 있음).
  - 간단함(단순함).
  - 작은 세그먼트 헤더를 가짐.
  - 혼잡제어가 없음.
- **사용 예**:
  - 스트리밍 서비스, DNS, SNMP에 쓰임.
- **체크섬**: 세그먼트에서 에러 '감지'를 목표.
*(사진)*

## 4. Principles of Reliable Data Transfer
- **방식**:
  - Stop and Wait
  - Sliding Window (Pipeline, Go Back N, Selective Repeat)
- **rdt3.0**: Stop and Wait 방식으로 보내고 ACK가 일정 시간 동안 오지 않으면 다시 보낸다.
  *(사진 2개)*
  - **계산**:
    - 링크 용량: 1Gbps (= bit/sec)
    - 전파 시간: 15ms (RTT의 절반)
    - 패킷 크기: 1KB (8000 bits)
  - **풀이**:
    - **T전송 (패킷 전송 시간)**:  
      \[
      L(\text{비트 단위 패킷 길이}) / R(\text{전송 속도 bps}) = 8000 \text{bits} / 10^9 (\text{b/sec}) = 8 \text{마이크로초}
      \]
    - **U발신자 (송신자가 데이터를 전송하는 데 사용하는 시간의 비율)**:  
      \[
      (L/R) / (\text{RTT} + L/R) = 0.008 / (15\text{ms} \times 2 + 0.008) = 0.00027
      \]
    - **결론**:  
      이론적 최대 대역폭은 1Gbps에 달하지만, 주어진 네트워크 조건(전파 지연 및 패킷 크기 등)에서는 실제로 초당 약 33KB의 데이터만을 전송할 수 있습니다.
- **GBN**:
- **Selective Repeat**:
